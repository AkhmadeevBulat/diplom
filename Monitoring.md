# Постановка задачи

## Требования к разделу Мониторинг:

1. Создать ВМ и развернуть на нем Zabbix.

2. На каждую ВМ установить Zabbix Agent.

3. Настроить агенты на отправление метрик в Zabbix.

4. Настроить дешборды с отображением метрик, минимальный набор — по принципу USE (Utilization, Saturation, Errors) для CPU, RAM, диски, сеть, http запросов к веб-серверам.

5. Добавить необходимые tresholds на соответствующие графики.

# Равертывание

После выполнения Terraform и Ansible кода:

1. Была развернута виртуальная машина Zabbix:

![alt text](<images/Снимок экрана 2024-10-28 в 14.23.03.png>)

2. Был добавлен слушатель на порту 8080 для Zabbix сервера:

![alt text](<images/Снимок экрана 2024-10-28 в 14.27.52.png>)

3. Были добавлены правла для входящих и исходящих подключений:

![alt text](<images/Снимок экрана 2024-10-28 в 14.28.50.png>)

4. На всех машинах установлен Zabbix Agent подключенный к Zabbix серверу:

![alt text](<images/Снимок экрана 2024-10-28 в 14.30.06.png>)

![alt text](<images/Снимок экрана 2024-10-28 в 14.30.52.png>)

![alt text](<images/Снимок экрана 2024-10-28 в 14.31.26.png>)

5. На машине Zabbix сервера был установлен, с помощью Ansible, docker и развернут docker compose файл:

![alt text](<images/Снимок экрана 2024-10-28 в 14.33.55.png>)

![alt text](<images/Снимок экрана 2024-10-28 в 14.34.48.png>)

# Настройка Zabbix сервера, дашбордов и трешхолдов

После развертывания Zabbix сервер стал доступен:

![alt text](<images/Снимок экрана 2024-10-28 в 14.46.48.png>)

1. Были добавлены узлы сети:

![alt text](<images/Снимок экрана 2024-10-28 в 14.55.48.png>)

2. Был добавлен триггер для шаблона ```Nginx by Zabbix agent```:

![alt text](<images/Снимок экрана 2024-10-28 в 14.58.41.png>)

3. Была добавлена группа пользователей ```Telegram_group```:

![alt text](<images/Снимок экрана 2024-10-28 в 14.59.56.png>)

4. Был добавлен пользователь ```Telegram_alert``` для оповещения в телеграм группу:

![alt text](<images/Снимок экрана 2024-10-28 в 15.01.02.png>)

5. Активирован способ оповещения:

![alt text](<images/Снимок экрана 2024-10-28 в 15.02.16.png>)

6. Добавлена карта сетей:

![alt text](<images/Снимок экрана 2024-10-28 в 15.03.18.png>)

7. Были добавлены панели для узлов сети:

![alt text](<images/Снимок экрана 2024-10-28 в 15.04.20.png>)

8. Краткий показ панелей (Полностью можно будет посмотреть - [Данные для подключения](DataForAccessingServices.md)):

![alt text](<images/Снимок экрана 2024-10-28 в 15.05.03.png>)

![alt text](<images/Снимок экрана 2024-10-28 в 15.05.24.png>)

9. Создан Телеграм канал для получаения оповещений:

![alt text](<images/Снимок экрана 2024-10-28 в 15.10.20.png>)

С дашбордами, трешхолдами и Telegram группой можно будет ознакомиться - [Данные для подключения](DataForAccessingServices.md)

### Следующий раздел: [Логи](Log.md)

### Предыдущий раздел: [Сайт](Site.md)

### [Главная](README.md)